<form [formGroup]="certificadoForm" (ngSubmit)="onSubmit()" class="p-2">

    <mat-card class="mat-elevation-z2">
        <mat-card-subtitle>Enviar Certificado</mat-card-subtitle>

        <section class="d-flex align-items-center flex-wrap">

            <mat-form-field appearance="fill" class="flex-fill">
                <mat-label>Certificado</mat-label>
                <ngx-mat-file-input formControlName="certificado"></ngx-mat-file-input>
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>Tipo certificado</mat-label>
                <mat-select formControlName="tipo">
                    <mat-option *ngFor="let tipoCertificado of tiposCertificados$ |async"
                        [value]="tipoCertificado.tipo">
                        {{tipoCertificado.tipo}}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field appearance="fill" class="flex-fill">
                <mat-label>Nome</mat-label>
                <input matInput formControlName="nome">
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>Horas</mat-label>
                <input matInput type="number" formControlName="horas">
            </mat-form-field>

            <button mat-button mat-raised-button color="accent" type="submit" [disabled]="!certificadoForm.valid">
                enviar
            </button>
        </section>

        <mat-card-footer *ngIf="loading">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </mat-card-footer>
    </mat-card>
</form>